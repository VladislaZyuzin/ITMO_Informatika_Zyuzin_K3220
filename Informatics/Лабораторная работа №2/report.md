# Лабораторная работа №2 (Зюзин Владислав К3220)

***Задание лабораторной работы***

В ходе работы был создан файл **script.bash** с помощью команды:
```
touch skript.bash
```
Далее был открыт текстовый редактор **gedit**
```
gedit skript.bash
```
![-1st prtsc](png1.png)

В **gedit** был занесён скрипт, на нём (в комментариях) я указал, что было проделано для работоспособности программы : 
```
#!/bin/bash

# Функция для преобразования десятичного числа в двоичный
decimal_to_binary() {
    local num=$1
    printf '%08d\n' "$(bc <<< "obase=2;$num")"
}

# Проверка на наличие входного параметра
if [ $# -ne 1 ]; then
    echo "Использование: $0 <IPv4-адрес>"
    exit 1
fi

# Вводим IPv4-адреса
IP=$1

# Проверяем корректности IP-адреса
if ! [[ $IP =~ ^([0-9]{1,3}\.){3}[0-9]{1,3}$ ]]; then
    echo "Неверный формат IPv4-адреса."
    exit 1
fi

# Преобразование IP-адреса
IFS='.' read -r i1 i2 i3 i4 <<< "$IP"

# Проверка диапазона октетов
for octet in $i1 $i2 $i3 $i4; do
    if [ "$octet" -lt 0 ] || [ "$octet" -gt 255 ]; then
        echo "Ответ $octet не входит в диапазон 0-255."
        exit 1
    fi
done

# Вывод результата в двоичном формате
binary_ip="$(decimal_to_binary $i1).$(decimal_to_binary $i2).$(decimal_to_binary $i3).$(decimal_to_binary $i4)"
echo "IPv4-адрес в двоичном формате: $binary_ip"
```
- **`#!/bin/bash`**: Это шебанг, который указывает ОС на то, какую оболочку следует использовать для выполнения скрипта.
- **`decimal_to_binary`**: Это функция, которая принимает десятичное число как аргумент и преобразует его в двоичный формат с помощью команды `bc`. Двичное представление формируется с дополнением ведущих нулей до 8 бит.

- **`$1`**: Это первый аргумент, переданный скрипту. Он должен содержать IPv4-адрес в десятичном формате. Например, если вы запускаете скрипт `sctipt.bash 192.168.1.1`, то `$1` будет равен `192.168.1.1`.

- **`IP`**: Эта переменная получает значение аргумента `$1` (IPv4-адрес). Она используется для дальнейшей обработки.

- **`i1`, `i2`, `i3`, `i4`**: Эти переменные представляют собой отдельные октеты IP-адреса. Они извлекаются путём разделения строки `IP` по точкам (`.`) с помощью `IFS='.' read -r i1 i2 i3 i4 <<< "$IP"`. Каждый октет будет содержать значение от 0 до 255.

- **`octet`**: Эта переменная внутри цикла `for` используется для перебора каждого из октетов (i1, i2, i3, i4). Эта переменная помогает проверить, находится ли каждый ответ в допустимом диапазоне от 0 до 255.

- **`binary_ip`**: Эта переменная формируется как строка, состоящая из двоичных значений каждого из ответов, которые были преобразованы с помощью функции `decimal_to_binary`. Каждая часть формируется с использованием `$()` для выполнения функции и объединяются через точку (`.`), чтобы получить полный двоичный IP-адрес.

Как мы видим, программа функционирует и при вводе любых переменных в десятичном формате мы получаем нужную переменную в двоичном.

![0st prtsc](png2.png)

## Заключение

В данной лабораторной работе были расширены познания в командном интерпретаторе bash, который является языĸом программирования.

