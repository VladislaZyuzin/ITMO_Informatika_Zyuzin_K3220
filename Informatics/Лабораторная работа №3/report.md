# Лабораторная работа №3 (Зюзин Владислав К3220)
Сначала мною был установлен Virtual Box. После я создал виртуальную машину **VM_A (main machine)**, с которой взаимодействовали 2 другие виртуальные машины, о которых будет написано дальше, создание ВМ было осуществимо благодаря дистрибутиву **Ubuntu 24.04.01**.
## Начало - настройка машины А 
Заходим в настройки машины А, переходим во вкладку сеть. Необходимо предоставить доступ в интернет. Выбираем 1 адаптер, подключаем NAT. Такой тип подключения даёт доступ к сети Интернет. NAT обеспечивает изоляцию ВМ от мнешних соединений. Запросы проходят через хост-систему, таким образом получаем доступ в Интернет.


![png1](image1.png)


Теперь проверим доступ в сеть. Для этого воспользуемся последовательно командой:
```
bash
ping -c 4 google. com
```
Команда `ping`  позволяет отправлять запросы по ip-адресу.
С помощью вышеописанной команды попытаемся подключиться к гуглу:


![png2](image2.png)


Подключение работает, пакеты дошли

## Настроим машину B

Создаём машину В. Заходим в настройки - сеть. В 1 адаптере ставим тип подключения - Внутренняя сеть и выбираем имя, я использовал LAN1. 

![png3](image3.png)

В машину А заносим тот же тип подулючения и имя, но на втором адаптере.

![png3*](image3*.png)

## Проверяем подключение машин А и В

Заносим в терминал команду:
```
ip a
```
После её введения экране видно несколько сетей. Первый интерфейс это loopback. Он есть на каждом устройстве, у него ip **127.0.0.1**. Так хост может обратиться к себе же самому. 
**enp0s3** - это сеть для выхода в интернет, **enp0s8** - локальная сеть между ВМ А и В. С помощью команды:
```
sudo ip addr add 192.168.1.9/255.255.255.0 dev enp0s8
```
мы сможем добавить ip-адрес для подключения

Введём ещё раз команду
```
ip a
```
Чтобы убедиться в отсутсвии ошибок в добавлении ip-адреса

![png4](image4.png)

Выделенная строка - добваленный ip-адрес для подключения

Теперь делаем те же действия для ВМ В, но меняем номер мвшины на **192.168.1.8**, а **enp0s8** на **enp0s3**.

![png5](image5.png)

## Проверим работу машин А и В

Используем следующую команду для машины А:
```
ping 192.168.1.8
```
![png6](image6.png)

На машине В:
```
ping 192.168.1.9
```
![png7](image7.png)

Как можно заметить, всё работает в обе стороны.

## Реализуем подключение ВМ А и С

Создаём ВМ С. Ткнём на ВМ А в стевых настройках в 3 адаптере включим тип подключения - Внутренняя сеть, обзавём её - LAN2.

![png8](image8.png)

У машины С те же настройки, только в 1 адаптере.

![png9](image9.png)

Теперь проделываем идентичные действия, что и для подключения ВМ А и В. Меняем ip ВМ А на **192.168.2.9**, т.к. мы используем другую подсеть и добавим порт с нужным ip в машине А для **enp0s9**:
```
sudo ip addr add 192.168.2.9/255.255.255.0 dev enp0s9
```
В терминале получим:

![png11](image11.png)

Для машины С ip - **192.168.2.8**, введём команду:
```
sudo ip addr add 192.168.2.8/255.255.255.0 dev enp0s3
```

![png10](image10.png)

## Проверим работу машин А и С

ВМ А:

![png12](image12.png)

ВМ С:

![png13](image13.png)

## Проверим, отсутствует ли соединение между машинами В и С

В этом нам поможет команда `ping`.

От В к С:
```
ping 192.168.2.8
```
![png14](image14.png)

От С к В:
```
ping 192.168.1.8
```
![png15](image15.png)

**На скриншотах видно, что подключение отсутсвует.**

## Все три терминала вместе

![png16](image16.png)

# Заключение 
В ходе работы были изучены методы добавления ip-адресов, настройки каналов связи и подключения ВМ друг с другом.
