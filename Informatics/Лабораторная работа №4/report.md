# Лабораторная работа №4 (Зюзин К3220)
## Начнём с создания docker image (образа)
Для этого напишем Dockerfile. Создаём пустой текстовый документ с помощью:
```
touch Dockerfile

```
и

```
gedit Dockerfile

```

![image](png-1.PNG)

В нём прежде всего указываем, на основе какого образа будет работать наш.
```
FROM ubuntu:latest
```
Далее указываем, что мы хотим запустить. В нашем случае мы обновляем пакетный менеджер и устанавливаем необходимое нам ПО.
```
RUN apt-get update && apt-get install -y libaa-bin iputils-ping
```
![image](png0.png)

На этом Dockerfile готов, закрываем и сохраняем его под этим названием. В терминале в папке с этим файлом запускаем команду сборки образа с тегом “aafire”.
```
sudo docker build -t aafire .
```
Далее можем запустить контейнер и  подключиться к нему напрямую командой
```
sudo docker run -it aafire
```
![image](png1.PNG)

И уже напрямую в терминале контейнера запустить команду 
```
aafire
```
![image](png2.PNG)

Контейнер работает, картинка видна.

P.S. Лучше сразу после запуска картинки нажать на `enter`, чтобы контейнер не занял много памяти.

## Теперь запустим 2 контейнера из нашего образа и настроим связь между ними.

Для этого вызываем новую командную строку, вводим команду:
```
sudo docker run -it aafire
```
и выполняем те же действия, что и для первого контейнера.

После, с помощью команды:
```
sudo docker ps
```
мы можем увидеть идентификатор контейнера, имя, образ, время создания и использование ресурсов.

![image](png3.PNG)

Откроем ещё одно окно терминала и создадим сеть при помощи команды:
```
sudo docker network create mynetwork
```
После этого нужно подключить контейнеры к нашей сети. Для этого нужно внести имена контейнеров в команду:
```
sudo docker network connect mynetwork <container's name>
```

![image](png4.PNG)

Теперь при помощи следующей команды посмотрим настройки нашей сети.
```
sudo docker network inspect mynetwork
```
![image](png5.PNG)

Контейнеры соединены. Теперь проверим соединение при помощи команды ping. Ip-адреса мы узнали в строке `IPv4Address`.

![image](png6.PNG)

Команда принята, контейнеры обменялись пакетами.

## Заключение.

В ходе работы были получены знания о создании образов и установки связи между контейнерами. 
