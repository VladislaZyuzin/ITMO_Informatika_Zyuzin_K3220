# Лабораторная работа №4 (Зюзин К3220)
## Начнём с создания docker image (образа)
Для этого напишем Dockerfile. Создаём пустой текстовый документ с помощью:
```
touch Dockerfile

```
и

```
gedit Dockerfile

```

![image](png1.png)

В нём прежде всего указываем, на основе какого образа будет работать наш.
```
FROM ubuntu:latest
```
Далее указываем, что мы хотим запустить. В нашем случае мы обновляем пакетный менеджер и устанавливаем необходимое нам ПО.
```
RUN apt-get update && apt-get install -y libaa-bin iputils-ping
```
![image](png2.png)

На этом Dockerfile готов, закрываем и сохраняем его под этим названием. В терминале в папке с этим файлом запускаем команду сборки образа с тегом “aafire”.
```
sudo docker build -t aafire .
```
Далее можем запустить контейнер и  подключиться к нему напрямую командой
```
sudo docker run -it aafire
```
![image](png4.png)

И уже напрямую в терминале контейнера запустить команду 
```
aafire
```
![image](png3.png)

Видно, что контейнер запущен и все работает.

Теперь запустим 2 контейнера из нашего образа и настроим связь между ними.

![image](png5.png)

Откроем ещё одно окно терминала и создадим сеть при помощи команды:
```
docker network create mynetwork
```
После этого нужно подключим контейнеры к нашей сети. Названия контейнеров можно увидеть при выводе списка действующих контейнеров.

![image](https://github.com/cs-itmo-2023/lab-4-Andrzakourcev/assets/144477949/acbc5c97-9d2a-410c-b67c-d868cc5db200)

Теперь при помощи следующей команды посмотрим настройки нашей сети.
```
docker network inspect mynetwork
```
![image](https://github.com/cs-itmo-2023/lab-4-Andrzakourcev/assets/144477949/f2f247cc-d6f4-410c-b0e9-1c95f590ad1a)

Контейнеры соединены. Теперь проверим соединение при помощи команды ping. Ip-адреса мы узнали из предыдущей команды.

![image](https://github.com/cs-itmo-2023/lab-4-Andrzakourcev/assets/144477949/43c2dab6-2c26-4968-9668-2d95f1cff399)

Все отлично работает!
